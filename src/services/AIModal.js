import { GoogleGenerativeAI } from '@google/generative-ai';

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: 'gemini-1.5-flash',
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: 'application/json',
};

export const chatSession = model.startChat({
  generationConfig,

  history: [
    {
      role: 'user',
      parts: [
        {
          text: 'Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap Budget, Give me list of recommended Hotels options with name, address, price, image url, geo coordinates, rating, descriptions and suggest itinerary with place name, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.',
        },
      ],
    },
    {
      role: 'model',
      parts: [
        {
          text: '```json\n{\n  "hotel_options": [\n    {\n      "name": "The D Las Vegas",\n      "address": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "image_url": "https://www.thed.com/images/home/hero.jpg",\n      "geo_coordinates": "36.1699, -115.1422",\n      "rating": "4.0 stars",\n      "description": "A budget-friendly hotel located in the heart of Fremont Street Experience, offering a casino, restaurants, and entertainment."\n    },\n    {\n      "name": "Golden Nugget Las Vegas",\n      "address": "129 E Fremont Street, Las Vegas, NV 89101",\n      "price": "$70-$150 per night",\n      "image_url": "https://www.goldennugget.com/las-vegas/media/images/hero-mobile.jpg",\n      "geo_coordinates": "36.1695, -115.1418",\n      "rating": "4.5 stars",\n      "description": "A historic hotel with a casino, multiple pools, and the famous "Shark Tank" aquarium."\n    },\n    {\n      "name": "Plaza Hotel & Casino",\n      "address": "1 Main Street, Las Vegas, NV 89101",\n      "price": "$60-$120 per night",\n      "image_url": "https://www.plazahotelcasino.com/assets/img/homepage/plaza-hotel-casino-hero-large.jpg",\n      "geo_coordinates": "36.1697, -115.1420",\n      "rating": "4.0 stars",\n      "description": "A centrally located hotel with a casino, dining, and entertainment options."\n    },\n    {\n      "name": "Main Street Station Casino, Brewery & Hotel",\n      "address": "200 N. Main Street, Las Vegas, NV 89101",\n      "price": "$40-$80 per night",\n      "image_url": "https://www.mainstreetstationcasino.com/images/homepage/hero-desktop.jpg",\n      "geo_coordinates": "36.1703, -115.1416",\n      "rating": "3.5 stars",\n      "description": "A unique hotel with a railroad theme, offering a casino, brewery, and dining."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "Fremont Street Experience",\n          "details": "A pedestrian mall with a canopy of LED lights and free live entertainment.",\n          "image_url": "https://www.vegasexperience.com/media/2018/12/Fremont-Street-Experience.jpg",\n          "geo_coordinates": "36.1699, -115.1422",\n          "ticket_pricing": "Free",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "12:00 PM",\n          "place": "Heart Attack Grill",\n          "details": "A quirky restaurant known for its unhealthy but delicious burgers and "bypass burgers" for those who can\'t finish their meals.",\n          "image_url": "https://www.heartattackgrill.com/wp-content/uploads/2020/11/Heart-Attack-Grill-Las-Vegas.jpg",\n          "geo_coordinates": "36.1697, -115.1420",\n          "ticket_pricing": "$10-$20 per meal",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "2:00 PM",\n          "place": "Neon Museum",\n          "details": "An outdoor museum showcasing vintage Las Vegas neon signs.",\n          "image_url": "https://www.neonmuseum.org/wp-content/uploads/2016/01/Neon-Museum-Las-Vegas-Sign-1.jpg",\n          "geo_coordinates": "36.1739, -115.1372",\n          "ticket_pricing": "$20 per person",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "6:00 PM",\n          "place": "El Cortez Hotel & Casino",\n          "details": "A historic casino with a retro vibe and affordable dining options.",\n          "image_url": "https://www.elcortezhotelcasino.com/wp-content/uploads/2021/10/elcortez-header-image.jpg",\n          "geo_coordinates": "36.1703, -115.1416",\n          "ticket_pricing": "Free entry",\n          "time_to_travel": "2 hours"\n        }\n      ]\n    },\n    {\n      "day": "Day 2",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "The Strip",\n          "details": "A 4.2-mile stretch of Las Vegas Boulevard lined with casinos, hotels, and attractions.",\n          "image_url": "https://www.visitlasvegas.com/sites/default/files/styles/hero_large/public/2021-07/The-Strip-at-Night.jpg",\n          "geo_coordinates": "36.1146, -115.1729",\n          "ticket_pricing": "Free entry",\n          "time_to_travel": "3 hours"\n        },\n        {\n          "time": "1:00 PM",\n          "place": "Bellagio Fountains",\n          "details": "Free choreographed water and light show in front of the Bellagio hotel.",\n          "image_url": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/images/bellagio-fountains-show.jpg",\n          "geo_coordinates": "36.1146, -115.1729",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "2:00 PM",\n          "place": "The LINQ Promenade",\n          "details": "An outdoor shopping and dining area with the High Roller observation wheel.",\n          "image_url": "https://www.caesars.com/content/dam/caesars/linq/images/hero-mobile.jpg",\n          "geo_coordinates": "36.1152, -115.1734",\n          "ticket_pricing": "Free entry, High Roller tickets start at $25",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "6:00 PM",\n          "place": "In-N-Out Burger",\n          "details": "A popular fast food chain with a cult following for its simple menu and fresh ingredients.",\n          "image_url": "https://www.in-n-out.com/images/home/hero.jpg",\n          "geo_coordinates": "36.1146, -115.1729",\n          "ticket_pricing": "$5-$10 per meal",\n          "time_to_travel": "1 hour"\n        }\n      ]\n    },\n    {\n      "day": "Day 3",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "Red Rock Canyon National Conservation Area",\n          "details": "A scenic area with hiking trails, rock formations, and stunning views.",\n          "image_url": "https://www.nps.gov/redr/planyourvisit/images/red-rock-canyon-overlook-1.jpg",\n          "geo_coordinates": "36.1892, -115.2592",\n          "ticket_pricing": "$15 per vehicle",\n          "time_to_travel": "3 hours"\n        },\n        {\n          "time": "1:00 PM",\n          "place": "Springs Preserve",\n          "details": "A botanical garden and cultural center with exhibits on the history and natural world of Nevada.",\n          "image_url": "https://www.springspreserve.org/sites/default/files/styles/hero/public/images/hero_image/springs-preserve-hero-image_4.jpg",\n          "geo_coordinates": "36.1666, -115.1191",\n          "ticket_pricing": "$20 per person",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "5:00 PM",\n          "place": "Downtown Container Park",\n          "details": "A unique shopping and dining area made from repurposed shipping containers.",\n          "image_url": "https://www.downtowncontainerpark.com/assets/images/home/hero/hero-desktop.jpg",\n          "geo_coordinates": "36.1685, -115.1449",\n          "ticket_pricing": "Free entry",\n          "time_to_travel": "1 hour"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Format:**\n\n* **hotel_options**: This array lists the recommended hotels with information like name, address, price range, image URL, geographic coordinates, rating, and a brief description.\n* **itinerary**: This array contains the daily plans for your 3-day trip. Each day has:\n    * **day**: The day number (Day 1, Day 2, Day 3).\n    * **plan**: An array of activities for that day, each with:\n        * **time**: The suggested time to visit the place.\n        * **place**: The name of the place to visit.\n        * **details**: A short description of the place.\n        * **image_url**: A link to an image of the place.\n        * **geo_coordinates**: Latitude and longitude coordinates of the place.\n        * **ticket_pricing**: Information about ticket prices, if applicable.\n        * **time_to_travel**: The estimated time you\'ll spend at the location.\n\n**Tips for a Cheap Budget:**\n\n* **Choose budget-friendly hotels:** The listed hotels are all known for their affordable prices.\n* **Take advantage of free attractions:** Many of the attractions listed, like Fremont Street Experience, the Bellagio Fountains, and the LINQ Promenade, are free to enter.\n* **Pack your own snacks and drinks:** This can save you a lot of money on food and beverages.\n* **Look for deals and discounts:** Many casinos and attractions offer discounts for advance purchases or for groups.\n* **Use public transportation:**  The Las Vegas Monorail can get you around The Strip and is a relatively cheap option.\n* **Eat at off-peak hours:**  Lunchtime meals are generally less expensive than dinner meals.\n* **Consider visiting during the off-season:**  Travel during the shoulder season (spring and fall) can be cheaper than peak season (summer and holidays). \n',
        },
      ],
    },
    {
      role: 'user',
      parts: [
        {
          text: 'Generate Travel Plan for Location: New Delhi, for 3 Days for Couple with a Cheap Budget, Give me list of recommended Hotels options with name, address, price, image url, geo coordinates, rating, descriptions and suggest itinerary with place name, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n',
        },
      ],
    },
    {
      role: 'model',
      parts: [
        {
          text: '```json\n{\n  "hotel_options": [\n    {\n      "name": "The Metropolitan Hotel & Spa",\n      "address": "19 Ashoka Road, Connaught Place, New Delhi, Delhi 110001",\n      "price": "$50-$80 per night",\n      "image_url": "https://www.themetropolitanhotel.com/images/gallery/metro-hotel-spa-new-delhi-india-exterior.jpg",\n      "geo_coordinates": "28.6328, 77.2182",\n      "rating": "4.0 stars",\n      "description": "A centrally located hotel with modern amenities, a spa, and a rooftop pool."\n    },\n    {\n      "name": "The Lodhi",\n      "address": "Lodhi Road, New Delhi, Delhi 110003",\n      "price": "$70-$100 per night",\n      "image_url": "https://www.thelodhi.com/images/gallery/lodhi-hotel-new-delhi-india-exterior.jpg",\n      "geo_coordinates": "28.6009, 77.2245",\n      "rating": "4.5 stars",\n      "description": "A luxurious hotel with a beautiful garden, multiple restaurants, and a spa."\n    },\n    {\n      "name": "The Leela Palace New Delhi",\n      "address": "Chanakyapuri, New Delhi, Delhi 110021",\n      "price": "$80-$120 per night",\n      "image_url": "https://www.theleela.com/content/dam/theleela/newdelhi/images/hotel-overview/exterior-view-01.jpg",\n      "geo_coordinates": "28.5783, 77.1922",\n      "rating": "4.0 stars",\n      "description": "A grand hotel known for its elegant architecture, fine dining, and spa."\n    },\n    {\n      "name": "The Oberoi, New Delhi",\n      "address": "Dr. Zakir Hussain Marg, New Delhi, Delhi 110003",\n      "price": "$100-$150 per night",\n      "image_url": "https://www.oberoihotels.com/images/hotels/new-delhi/gallery/exterior-view-1.jpg",\n      "geo_coordinates": "28.6105, 77.2184",\n      "rating": "5.0 stars",\n      "description": "A prestigious hotel with a central location, luxurious amenities, and award-winning dining."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": "Day 1",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "Red Fort",\n          "details": "A UNESCO World Heritage site and a symbol of Mughal architecture, built by Emperor Shah Jahan.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Red_Fort_New_Delhi.jpg/1200px-Red_Fort_New_Delhi.jpg",\n          "geo_coordinates": "28.6490, 77.2330",\n          "ticket_pricing": "₹50 per person",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "12:00 PM",\n          "place": "Chandni Chowk",\n          "details": "A bustling market area known for its street food, spices, and traditional handicrafts.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2019/05/chandni-chowk.jpg",\n          "geo_coordinates": "28.6493, 77.2352",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "2:00 PM",\n          "place": "Jama Masjid",\n          "details": "One of the largest mosques in India, built by Emperor Shah Jahan.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Jama_Masjid%2C_Delhi%2C_India.jpg/1200px-Jama_Masjid%2C_Delhi%2C_India.jpg",\n          "geo_coordinates": "28.6461, 77.2344",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "4:00 PM",\n          "place": "Humayun\'s Tomb",\n          "details": "The tomb of Mughal emperor Humayun, a precursor to the Taj Mahal.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/Humayun%27s_Tomb%2C_Delhi%2C_India.jpg/1200px-Humayun%27s_Tomb%2C_Delhi%2C_India.jpg",\n          "geo_coordinates": "28.6123, 77.2359",\n          "ticket_pricing": "₹30 per person",\n          "time_to_travel": "2 hours"\n        }\n      ]\n    },\n    {\n      "day": "Day 2",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "Qutub Minar",\n          "details": "A UNESCO World Heritage site and the tallest brick minaret in the world.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Qutub_Minar_2011.jpg/1280px-Qutub_Minar_2011.jpg",\n          "geo_coordinates": "28.5531, 77.1734",\n          "ticket_pricing": "₹50 per person",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "12:00 PM",\n          "place": "Lotus Temple",\n          "details": "A unique temple shaped like a lotus flower, a place of worship for all religions.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/Lotus_Temple_Delhi.jpg/1280px-Lotus_Temple_Delhi.jpg",\n          "geo_coordinates": "28.5686, 77.2166",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "2:00 PM",\n          "place": "India Gate",\n          "details": "A war memorial dedicated to the Indian soldiers who died in World War I.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/India_Gate%2C_Delhi%2C_India.jpg/1280px-India_Gate%2C_Delhi%2C_India.jpg",\n          "geo_coordinates": "28.6130, 77.2296",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        },\n        {\n          "time": "4:00 PM",\n          "place": "Rajpath",\n          "details": "A ceremonial boulevard leading to Rashtrapati Bhavan (President\'s House), lined with government buildings.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Rajpath_NewDelhi.jpg/1280px-Rajpath_NewDelhi.jpg",\n          "geo_coordinates": "28.6134, 77.2300",\n          "ticket_pricing": "Free",\n          "time_to_travel": "1 hour"\n        }\n      ]\n    },\n    {\n      "day": "Day 3",\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "place": "National Museum",\n          "details": "India\'s largest museum showcasing art, history, and culture from across the country.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/National_Museum_%28New_Delhi%29.jpg/1280px-National_Museum_%28New_Delhi%29.jpg",\n          "geo_coordinates": "28.6125, 77.2290",\n          "ticket_pricing": "₹20 per person",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "12:00 PM",\n          "place": "Connaught Place",\n          "details": "A central shopping district with a variety of shops, restaurants, and cafes.",\n          "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Connaught_Place%2C_New_Delhi.jpg/1280px-Connaught_Place%2C_New_Delhi.jpg",\n          "geo_coordinates": "28.6327, 77.2181",\n          "ticket_pricing": "Free",\n          "time_to_travel": "2 hours"\n        },\n        {\n          "time": "2:00 PM",\n          "place": "Hauz Khas Village",\n          "details": "A trendy neighborhood with a mix of restaurants, bars, shops, and art galleries.",\n          "image_url": "https://www.holidify.com/images/cmsuploads/2020/02/Hauz-Khas-Village.jpg",\n          "geo_coordinates": "28.5686, 77.1991",\n          "ticket_pricing": "Free",\n          "time_to_travel": "2 hours"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Format:**\n\n* **hotel_options**: This array lists the recommended hotels with information like name, address, price range, image URL, geographic coordinates, rating, and a brief description.\n* **itinerary**: This array contains the daily plans for your 3-day trip. Each day has:\n    * **day**: The day number (Day 1, Day 2, Day 3).\n    * **plan**: An array of activities for that day, each with:\n        * **time**: The suggested time to visit the place.\n        * **place**: The name of the place to visit.\n        * **details**: A short description of the place.\n        * **image_url**: A link to an image of the place.\n        * **geo_coordinates**: Latitude and longitude coordinates of the place.\n        * **ticket_pricing**: Information about ticket prices, if applicable.\n        * **time_to_travel**: The estimated time you\'ll spend at the location.\n\n**Tips for a Cheap Budget:**\n\n* **Choose budget-friendly hotels:** The listed hotels are all known for their affordable prices.\n* **Take advantage of free attractions:** Many of the attractions listed, like Chandni Chowk, Jama Masjid, India Gate, Rajpath, Connaught Place, and Hauz Khas Village, are free to enter.\n* **Pack your own snacks and drinks:** This can save you a lot of money on food and beverages.\n* **Look for deals and discounts:** Many museums and attractions offer discounts for advance purchases or for groups.\n* **Use public transportation:** Delhi has an extensive metro system that is very affordable and efficient.\n* **Eat at local street food stalls:** Delhi is famous for its delicious and cheap street food.\n* **Consider visiting during the off-season:** The best time to visit New Delhi is during the winter months (October-March). \n\n\n',
        },
      ],
    },
  ],
});
